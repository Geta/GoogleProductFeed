window.ComponentArt_ComboBox.prototype.EnsureKeyIndex=function(){if(this.SelectedIndex>=0){var _1=document.getElementById(this.Id+"_item_"+this.SelectedIndex);if(_1){if(this.KeyboardIndex<0||_1!=_1.parentNode.childNodes[this.KeyboardIndex]){for(var i=0;i<_1.parentNode.childNodes.length;i++){if(_1.parentNode.childNodes[i]==_1){this.KeyboardIndex=i;break;}}}}else{this.KeyboardIndex=-1;}}else{this.KeyboardIndex=-1;}};window.ComponentArt_ComboBox.prototype.GetIndexFromKeyIndex=function(_3,_4){if(this.RunningMode==1){var _5=0;if(this.Data[0]==null){for(var i=0;i<this.Data.length;i++){if(this.Data[i]==null){_5++;}}if(_5>0){_5--;}}return _3+_5;}else{if(_4.childNodes.length-1<_3){return -1;}else{return _4.childNodes[_3].id.split("_item_")[1];}}};window.ComponentArt_ComboBox.prototype.SelectItemByKeyIndex=function(_7){var _8=document.getElementById(this.Id+"_DropDownContent");if(_8){var _9=this.GetIndexFromKeyIndex(_7,_8);if(_9>=0){this.SelectItemByIndex(_9);if(this.AutoPostBack&&!this.Expanded){this.Postback();}}}this.KeyboardIndex=_7;};window.ComponentArt_ComboBox.prototype.HandleKeyPageUp=function(){this.EnsureKeyIndex();if(this.KeyboardIndex>0){this.SelectItemByKeyIndex(Math.max(0,this.KeyboardIndex-this.DropDownPageSize));}};window.ComponentArt_ComboBox.prototype.HandleKeyPageDown=function(){this.EnsureKeyIndex();var _a=document.getElementById(this.Id+"_DropDownContent");if(this.KeyboardIndex<_a.childNodes.length-1){this.SelectItemByKeyIndex(Math.min(_a.childNodes.length-1,this.KeyboardIndex+this.DropDownPageSize));}};window.ComponentArt_ComboBox.prototype.HandleKeyHome=function(){this.EnsureKeyIndex();this.SelectItemByKeyIndex(0);};window.ComponentArt_ComboBox.prototype.HandleKeyEnd=function(){this.EnsureKeyIndex();var _b=document.getElementById(this.Id+"_DropDownContent");this.SelectItemByKeyIndex(_b.childNodes.length-1);};window.ComponentArt_ComboBox.prototype.HandleKeyDown=function(){this.EnsureKeyIndex();var _c=document.getElementById(this.Id+"_DropDownContent");if(this.KeyboardIndex<_c.childNodes.length-1){this.SelectItemByKeyIndex(this.KeyboardIndex+1);}else{if(this.Data.length<this.ItemCount){this.HandleScroll();}}};window.ComponentArt_ComboBox.prototype.HandleKeyUp=function(){this.EnsureKeyIndex();if(this.KeyboardIndex>0){this.SelectItemByKeyIndex(this.KeyboardIndex-1);}};window.ComponentArt_ComboBox.prototype.HandleKeyEnter=function(){};window.ComponentArt_ComboBox.prototype.InitKeyboard=function(){window._z137=this;this.KeyboardIndex=-1;ComponentArt_RegisterKeyHandler(this,"Esc",this.Id+".Collapse()");ComponentArt_RegisterKeyHandler(this,"(",this.Id+".HandleKeyDown()");ComponentArt_RegisterKeyHandler(this,"&",this.Id+".HandleKeyUp()");ComponentArt_RegisterKeyHandler(this,"$",this.Id+".HandleKeyHome()");ComponentArt_RegisterKeyHandler(this,"#",this.Id+".HandleKeyEnd()");ComponentArt_RegisterKeyHandler(this,"Ctrl+'",this.Id+".HandleKeyPageDown()");ComponentArt_RegisterKeyHandler(this,"Ctrl+%",this.Id+".HandleKeyPageUp()");document.onkeydown=ComponentArt_HandleKeyPress;};window.ComponentArt_ComboBox_Keyboard_Loaded=true;