(function(b,a){b.create("tinymce.plugins.epistylematcher",{init:function(c,d){c.onInit.add(function(f){var h=f.formatter;var g=h.matchAll;var e=h.remove;h.matchAll=function(){var i=g.apply(this,arguments);i=i.sort(function(q,s){var o=h.get(q)[0];var r=h.get(s)[0];if((o.block==r.block)&&(o.inline==r.inline)){if(!o.classes){return 1;}if(!r.classes){return -1;}var p=o.classes.length>r.classes.length?o.classes:r.classes;var m=o.classes.length>r.classes.length?r.classes:o.classes;var t=true;for(var k in m){var n=false;for(var l in p){if(p[l]==m[k]){n=true;break;}}if(!n){t=false;break;}}if(t){return o.classes.length>r.classes.length?-1:1;}else{return 0;}}else{return 0;}});return i;};h.remove=function(m,i,n){if(!m){var k=f.selection;var l;if((l=k.getStart())==k.getEnd()){var j=f.dom.isBlock(l)?{block:l.tagName.toLowerCase()}:{inline:l.tagName.toLowerCase()};this.register("__current__",j);e.apply(this,["__current__",i,n]);}}else{e.apply(this,arguments);}};});},getInfo:function(){return{longname:"styling improvement plugin",author:"EPiServer AB",authorurl:"http://www.episerver.com",infourl:"http://www.episerver.com",version:1};}});b.PluginManager.add("epistylematcher",b.plugins.epistylematcher);}(tinymce,epiJQuery));