(function(){tinymce.create("tinymce.plugins.InsertDateTime",{init:function(c,a){var b=this;b.editor=c;c.addCommand("mceInsertDate",function(){var d=b._getDateTime(new Date(),c.getParam("plugin_insertdate_dateFormat",c.getLang("insertdatetime.date_fmt")));c.execCommand("mceInsertContent",false,d);});c.addCommand("mceInsertTime",function(){var d=b._getDateTime(new Date(),c.getParam("plugin_insertdate_timeFormat",c.getLang("insertdatetime.time_fmt")));c.execCommand("mceInsertContent",false,d);});c.addButton("insertdate",{title:"insertdatetime.insertdate_desc",cmd:"mceInsertDate"});c.addButton("inserttime",{title:"insertdatetime.inserttime_desc",cmd:"mceInsertTime"});},getInfo:function(){return{longname:"Insert date/time",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/insertdatetime",version:tinymce.majorVersion+"."+tinymce.minorVersion};},_getDateTime:function(c,a){var e=this.editor;function b(d,g){d=""+d;if(d.length<g){for(var f=0;f<(g-d.length);f++){d="0"+d;}}return d;}a=a.replace("%D","%m/%d/%y");a=a.replace("%r","%I:%M:%S %p");a=a.replace("%Y",""+c.getFullYear());a=a.replace("%y",""+c.getYear());a=a.replace("%m",b(c.getMonth()+1,2));a=a.replace("%d",b(c.getDate(),2));a=a.replace("%H",""+b(c.getHours(),2));a=a.replace("%M",""+b(c.getMinutes(),2));a=a.replace("%S",""+b(c.getSeconds(),2));a=a.replace("%I",""+((c.getHours()+11)%12+1));a=a.replace("%p",""+(c.getHours()<12?"AM":"PM"));a=a.replace("%B",""+e.getLang("insertdatetime.months_long").split(",")[c.getMonth()]);a=a.replace("%b",""+e.getLang("insertdatetime.months_short").split(",")[c.getMonth()]);a=a.replace("%A",""+e.getLang("insertdatetime.day_long").split(",")[c.getDay()]);a=a.replace("%a",""+e.getLang("insertdatetime.day_short").split(",")[c.getDay()]);a=a.replace("%%","%");return a;}});tinymce.PluginManager.add("insertdatetime",tinymce.plugins.InsertDateTime);})();